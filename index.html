<!DOCTYPE html>
<html>
<head>
    <title>jsform Test Page</title>
    <script defer src="jsform.js"></script>
    <script defer src="jsform_execresponse.js"></script>
    <script defer src="jsform_elementmerge.js"></script>
</head>
<body>
    <details elementmerge-nomerge>
        <summary>elementmerge-nomerge</summary>
        <p>Elements with <code>[elementmerge-nomerge]</code> will not be merged. Notice that if you have this <code>details</code> element expanded, the <code>open</code> attribute does not get removed when you submit the form below.</p>
        <p>Also, notice that if you <button onclick="this.parentElement.parentElement.innerHTML += '<p>New Paragraph</p>'">click this button</button>, the newly created element will survive the merge.</p>
    </details>    

    <form target="jsform" replace-query>
        <p>[replace-query]</p>
        <input type="text" name="userinput" value="initial value">
        <input type="submit" value="Submit">
        <button type="button" onclick="this.form.submit();">submit()</button>
    </form>
    <form target="jsform" method="POST">
        <p>Form with a file</p>
        <input type="file" name="userphoto">
        <input type="submit" value="Submit">
        <button type="button" onclick="this.form.submit();">submit()</button>
    </form>
    <form target="jsform" action="alert_something.js">
        <p>JS form, only allows single submission:</p>
        <input type="text" name="userinput">
        <input type="submit" name="">
    </form>
    <form target="jsform" action="alert_something_multiple.js">
        <p>JS form, allows duplicate :</p>
        <input type="text" name="userinput">
        <input type="submit" name="">
    </form>

    <div id="dynamic_container"></div>

    <details>
        <summary>Standard element - will be merged</summary>
        <p>This element will be merged/reset.</p>
        <p><button onclick="this.parentElement.parentElement.innerHTML += '<p>New Paragraph</p>'">Add a paragraph.</button></p>
    </details>

    <script>
        var container = document.getElementById('dynamic_container');
        container.innerHTML += '<p elementmerge-skip>[elementmerge-skip] this paragraph will not be deleted.</p><p>This paragraph _will_ be deleted.</p>';
    </script>
</body>
</html>